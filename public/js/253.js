"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[253],{253:(t,a,i)=>{i.r(a),i.d(a,{default:()=>s});const n={components:{Form:i(5551).Z}};const s=(0,i(1900).Z)(n,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("Form")],1)])])}),[],!1,null,null,null).exports},5551:(t,a,i)=>{i.d(a,{Z:()=>u});var n=i(7757),s=i.n(n);function e(t,a,i,n,s,e,r){try{var o=t[e](r),l=o.value}catch(t){return void i(t)}o.done?a(l):Promise.resolve(l).then(n,s)}function r(t){return function(){var a=this,i=arguments;return new Promise((function(n,s){var r=t.apply(a,i);function o(t){e(r,n,s,o,l,"next",t)}function l(t){e(r,n,s,o,l,"throw",t)}o(void 0)}))}}var o,l;const c={props:["unit"],data:function(){return{action:"save",url:"/api/unit",form:{},submitted:!1,error_validation:{}}},mounted:function(){this.checkAction()},methods:{checkAction:function(){this.unit&&(this.action="update",this.url+="/".concat(this.$route.params.unit_id),this.getUnit())},getUnit:function(){var t=this;axios.get("/api/unit/".concat(this.$route.params.unit_id)).then((function(a){t.form=a.data}))},request:(l=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.unit){t.next=6;break}return t.next=3,axios.put(this.url,this.form);case 3:case 9:return t.abrupt("return",t.sent);case 6:return console.log("ok"),t.next=9,axios.post(this.url,this.form);case 10:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),proceedData:(o=r(s().mark((function t(){var a=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:swal({title:"Anda akan ".concat("save"==this.action?"menambahkan":"memperbaharui"," data Unit"),text:"Lanjutkan?",icon:"warning",buttons:!0,dangerMode:!1}).then((function(t){t&&($.LoadingOverlay("show"),a.request().then((function(t){1==t.data.status?(a.$router.push({name:"unit.index"}),a.submitted=!0,toastr.success(t.data.message,"Success!")):(swal("Please check your input",t.data.message,"warning"),a.error_validation=t.data.data,a.applyValidator(t.data.data))})).catch((function(t){console.log(t.response)})).then((function(){$.LoadingOverlay("hide")})))}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),applyValidator:function(t){this.error_validation=t;Object.keys(this.error_validation).forEach((function(t){}))},resetForm:function(){this.checkAction()}}};const u=(0,i(1900).Z)(c,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("form",{on:{submit:function(a){return a.preventDefault(),t.proceedData.apply(null,arguments)}}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"unit"}},[t._v("Unit "),i("Required")],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.unit,expression:"form.unit"}],staticClass:"form-control",class:{"is-invalid":Array.isArray(t.error_validation.unit)&&t.error_validation.unit.length>0,"is-valid":!t.error_validation.unit&&1==this.submitted},attrs:{type:"text",id:"unit"},domProps:{value:t.form.unit},on:{input:function(a){a.target.composing||t.$set(t.form,"unit",a.target.value)}}}),t._v(" "),i("div",{staticClass:"invalid-feedback"},t._l(t.error_validation.unit,(function(a,n){return i("ul",{key:n,staticClass:"warning-list"},[i("li",[t._v(t._s(a))])])})),0)])]),t._v(" "),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"dinas"}},[t._v("Dinas "),i("Required")],1),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.dinas,expression:"form.dinas"}],staticClass:"form-control",class:{"is-invalid":Array.isArray(t.error_validation.dinas)&&t.error_validation.dinas.length>0,"is-valid":!t.error_validation.dinas&&1==this.submitted},attrs:{type:"text",id:"dinas"},domProps:{value:t.form.dinas},on:{input:function(a){a.target.composing||t.$set(t.form,"dinas",a.target.value)}}}),t._v(" "),i("div",{staticClass:"invalid-feedback"},t._l(t.error_validation.dinas,(function(a,n){return i("ul",{key:n,staticClass:"warning-list"},[i("li",[t._v(t._s(a))])])})),0)])])])]),t._v(" "),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._m(0),t._v(" "),i("div",{staticClass:"alert-body"},[i("ul",{staticClass:"warning-list"},[i("li",[t._v("Form with "),i("Required"),t._v(" is should be filled / can't let blank")],1),t._v(" "),i("li",[t._v("Please fill form with correct data and do it with your own responsibility")]),t._v(" "),i("li",[t._v("Click Save button below this after you finished filled all necessary form")])])])]),t._v(" "),i("div",{staticClass:"d-grid gap-1"},[t._m(1),t._v(" "),i("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.resetForm}},[i("i",{staticClass:"fa fa-refresh"}),t._v(" Reset Form")])])])])])])}),[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("h4",{staticClass:"alert-heading"},[i("i",{staticClass:"fa fa-exclamation-triangle"}),t._v(" Instruction")])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[i("i",{staticClass:"fa fa-check"}),t._v(" Save Data")])}],!1,null,null,null).exports}}]);